{"remainingRequest":"/Users/mac/Desktop/permissions-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/permissions-web/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/permissions-web/src/views/login.vue","mtime":1649759597763},{"path":"/Users/mac/Desktop/permissions-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/permissions-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Desktop/permissions-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/permissions-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapState } from \"vuex\";\r\nimport my_request from '@/utils/request.js';\r\nvar THIS;\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      isflag: true,\r\n      username: \"\",\r\n      password: \"\",\r\n      success: false,\r\n      ruleForm: {\r\n        account: \"\",\r\n        password: \"\"\r\n      },\r\n      rules: {\r\n        account: [{ required: true, message: \"请输入账号\", trigger: [] }],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: [] }]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"navmsg\"])\r\n  },\r\n  methods: {\r\n\r\n    login() {\r\n        var data = {\r\n          account:this.ruleForm.account,\r\n          password:this.ruleForm.password\r\n        };\r\n        my_request(\"/login\", data,'post', success,false,[1,1,1],this);\r\n        function success(msg){\r\n            THIS.message('登录成功');\r\n            window.localStorage.flexible_manage_token = msg.token;\r\n            window.localStorage.userInfo = msg.username;\r\n            THIS.store.dispatch('GET_MENU').then(()=>{\r\n                console.log(12)\r\n                THIS.$router.replace('/home');\r\n            });\r\n        };\r\n    },\r\n\r\n    isJz() {\r\n      THIS.isflag = !THIS.isflag;\r\n    },\r\n\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          THIS.login();\r\n        } else {\r\n          THIS.$message({\r\n            type: \"warning\",\r\n            message: \"请将必填项完善后再提交\",\r\n            dangerouslyUseHTMLString: true\r\n          });\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  },\r\n  mounted() {\r\n    THIS = this;\r\n    window.localStorage.tabIndex = 0;\r\n    window.localStorage.son_tabIndex = 0;\r\n    THIS.ruleForm.account = window.localStorage.username;\r\n    THIS.ruleForm.password = window.localStorage.password;\r\n    window.localStorage.szrl_navmsg = '[]';\r\n  }\r\n};\r\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"views bg flex a_center j_center\">\r\n    <div class=\"box flex col b_s bg_fff\">\r\n      <div class=\"flex_1 b_s pad_t_20 inp_box\">\r\n        <p class=\"text_center\" style=\"color:#333;font-size:22px\">数字人力用工解决方案系统</p>\r\n        <el-form class=\"demo-ruleForm\" :model=\"ruleForm\" label-position=\"left\" :rules=\"rules\" ref=\"ruleForm\" >\r\n            <!-- 账号 -->\r\n            <div class=\"po_r mar_t_20 w_100\">\r\n              <el-form-item class=\"w_100\" prop=\"account\">\r\n                <el-input class=\"b_s\" v-model=\"ruleForm.account\" placeholder=\"请输入账号\" autocomplete=\"off\" clearable >\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n            <!-- 密码 -->\r\n            <div class=\"po_r mar_t_40 w_100\">\r\n              <el-form-item class=\"w_100\" prop=\"password\">\r\n                <el-input class=\"b_s\" type=\"password\" v-model=\"ruleForm.password\" placeholder=\"请输入密码\" auto-complete=\"on\" @keyup.enter.native=\"submitForm('ruleForm')\" clearable>\r\n                </el-input>\r\n              </el-form-item>\r\n            </div>\r\n            <!-- 按钮 -->\r\n            <div class=\"bogin_btn pointer mar_t_40\" @click=\"submitForm('ruleForm')\">登录</div>\r\n            <p class=\"font12 mar_t_10\">\r\n              <span :class=\"isflag?'current':''\" class=\"c_span\" @click=\"isJz()\"></span>记住密码\r\n            </p>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport my_request from '@/utils/request.js';\r\nvar THIS;\r\nexport default {\r\n  name: \"\",\r\n  data() {\r\n    return {\r\n      isflag: true,\r\n      username: \"\",\r\n      password: \"\",\r\n      success: false,\r\n      ruleForm: {\r\n        account: \"\",\r\n        password: \"\"\r\n      },\r\n      rules: {\r\n        account: [{ required: true, message: \"请输入账号\", trigger: [] }],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: [] }]\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"navmsg\"])\r\n  },\r\n  methods: {\r\n\r\n    login() {\r\n        var data = {\r\n          account:this.ruleForm.account,\r\n          password:this.ruleForm.password\r\n        };\r\n        my_request(\"/login\", data,'post', success,false,[1,1,1],this);\r\n        function success(msg){\r\n            THIS.message('登录成功');\r\n            window.localStorage.flexible_manage_token = msg.token;\r\n            window.localStorage.userInfo = msg.username;\r\n            THIS.store.dispatch('GET_MENU').then(()=>{\r\n                console.log(12)\r\n                THIS.$router.replace('/home');\r\n            });\r\n        };\r\n    },\r\n\r\n    isJz() {\r\n      THIS.isflag = !THIS.isflag;\r\n    },\r\n\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          THIS.login();\r\n        } else {\r\n          THIS.$message({\r\n            type: \"warning\",\r\n            message: \"请将必填项完善后再提交\",\r\n            dangerouslyUseHTMLString: true\r\n          });\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n  },\r\n  mounted() {\r\n    THIS = this;\r\n    window.localStorage.tabIndex = 0;\r\n    window.localStorage.son_tabIndex = 0;\r\n    THIS.ruleForm.account = window.localStorage.username;\r\n    THIS.ruleForm.password = window.localStorage.password;\r\n    window.localStorage.szrl_navmsg = '[]';\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n    .views {\r\n      position: relative;\r\n      background: url(../assets/images/login/bg.png) no-repeat center / 100% 100%;\r\n    }\r\n    .box {\r\n      width: 420px;\r\n      height: 500px;\r\n      padding-top: 100px;\r\n      background: url(../assets/images/login/logo.png) no-repeat #fff center top\r\n        40px /72px;\r\n    }\r\n    .box .h_60px {\r\n      line-height: 60px;\r\n    }\r\n    .box .h_60px .current {\r\n      color: #007df2;\r\n      border-bottom: 3px solid #007df2;\r\n    }\r\n    .edit_button {\r\n      display: block;\r\n      margin: 60px auto 0;\r\n    }\r\n    .views {\r\n      height: 100vh;\r\n    }\r\n    .bg_box {\r\n      width: 200px;\r\n      height: 200px;\r\n      margin: 0 auto;\r\n    }\r\n    .bg_box .po_b {\r\n      width: 100%;\r\n      height: 100%;\r\n      background: url(../assets/images/login/success.png) no-repeat center 50px /50px;\r\n      background-color: rgba(0, 0, 0, 0.7);\r\n      left: 0;\r\n      top: 0;\r\n      z-index: 99;\r\n      color: #fff;\r\n      padding-top: 110px;\r\n    }\r\n    img {\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0 auto;\r\n    }\r\n    h1 {\r\n      color: #8c8c8c;\r\n      font-size: 16px;\r\n    }\r\n    .inp_box {\r\n      padding: 40px 70px;\r\n    }\r\n    .bogin_btn {\r\n      height: 40px;\r\n      line-height: 40px;\r\n      text-align: center;\r\n      border-radius: 4px;\r\n      background: #007df2;\r\n      color: #fff;\r\n    }\r\n    span.d_block {\r\n      width: 50px;\r\n      text-align: center;\r\n      top: 0;\r\n      left: 0;\r\n      line-height: 40px;\r\n      z-index: 999;\r\n    }\r\n    .lo_span {\r\n      display: inline-block;\r\n      width: 16px;\r\n      height: 16px;\r\n      vertical-align: middle;\r\n      margin-right: 5px;\r\n      background: no-repeat center / 100%;\r\n    }\r\n    .lo_span01 {\r\n      background-image: url(../assets/images/login/ewm01.png);\r\n    }\r\n    .lo_span02 {\r\n      background-image: url(../assets/images/login/pic01.png);\r\n    }\r\n    .current .lo_span01 {\r\n      background-image: url(../assets/images/login/ewm.png);\r\n    }\r\n    .current .lo_span02 {\r\n      background-image: url(../assets/images/login/pic.png);\r\n    }\r\n    .mar_t_40 {\r\n      margin-top: 40px;\r\n    }\r\n</style>"]}]}